<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Santé pour Tous - E-commerce</title>

<style>
body{margin:0;font-family:Arial;background:#f4f7f6}
header{background:#0b3d2e;color:white;padding:15px;display:flex;justify-content:space-between;align-items:center}
nav button{margin-left:10px;padding:5px 10px}
.section{padding:40px;text-align:center}
.products{display:flex;flex-wrap:wrap;gap:20px;justify-content:center}
.product{background:white;padding:15px;width:220px;border-radius:10px;box-shadow:0 3px 10px rgba(0,0,0,0.1)}
button{background:#0b3d2e;color:white;border:none;padding:8px;border-radius:5px;cursor:pointer}
button:hover{background:#145c46}
#cart{position:fixed;top:0;right:0;background:white;width:300px;height:100%;overflow:auto;padding:15px;box-shadow:-3px 0 10px rgba(0,0,0,0.2)}
.lang-switch button{background:white;color:#0b3d2e;border:1px solid #0b3d2e}
.admin{background:white;margin-top:30px;padding:20px}
</style>
</head>

<body>

<header>
<h2 id="title">Santé pour Tous</h2>
<div class="lang-switch">
<button onclick="setLang('fr')">FR</button>
<button onclick="setLang('en')">EN</button>
<button onclick="setLang('ar')">AR</button>
</div>
</header>

<div class="section">
<h3 id="shopTitle">Nos Produits</h3>
<div class="products" id="productList"></div>
</div>

<!-- PANIER -->
<div id="cart">
<h3 id="cartTitle">Panier</h3>
<div id="cartItems"></div>
<h4 id="totalText">Total: 0 FCFA</h4>

<h4>Paiement</h4>
<input type="text" id="clientName" placeholder="Nom complet"><br><br>
<input type="text" id="clientPhone" placeholder="Téléphone"><br><br>

<button onclick="pay('Airtel Money')">Payer Airtel Money</button>
<button onclick="pay('Moov Money')">Payer Moov Money</button>
</div>

<!-- ADMIN -->
<div class="section admin">
<h3>Tableau de Gestion des Commandes</h3>
<table border="1" width="100%">
<thead>
<tr>
<th>Nom</th>
<th>Téléphone</th>
<th>Produits</th>
<th>Total</th>
<th>Paiement</th>
</tr>
</thead>
<tbody id="ordersTable"></tbody>
</table>
</div>

<script>
let cart=[];
let orders=JSON.parse(localStorage.getItem("orders"))||[];

const translations={
fr:{shop:"Nos Produits",cart:"Panier",total:"Total"},
en:{shop:"Our Products",cart:"Cart",total:"Total"},
ar:{shop:"منتجاتنا",cart:"السلة",total:"المجموع"}
};

function setLang(lang){
document.getElementById("shopTitle").innerText=translations[lang].shop;
document.getElementById("cartTitle").innerText=translations[lang].cart;
document.getElementById("totalText").innerText=translations[lang].total+": "+getTotal()+" FCFA";
if(lang==="ar"){document.body.dir="rtl"} else{document.body.dir="ltr"}
}

const categories=[
"Régulation","Nettoyage","Beauté","Supplément","Appareils"
];

function loadProducts(){
let container=document.getElementById("productList");
categories.forEach(cat=>{
for(let i=1;i<=4;i++){
let price=(i*25000);
container.innerHTML+=`
<div class="product">
<h4>${cat} ${i}</h4>
<p>${price} FCFA</p>
<button onclick="addToCart('${cat} ${i}',${price})">Ajouter</button>
</div>`;
}
});
}
loadProducts();

function addToCart(name,price){
cart.push({name,price});
renderCart();
}

function renderCart(){
let cartDiv=document.getElementById("cartItems");
cartDiv.innerHTML="";
cart.forEach((item,index)=>{
cartDiv.innerHTML+=`
<p>${item.name} - ${item.price} FCFA
<button onclick="removeItem(${index})">X</button></p>`;
});
document.getElementById("totalText").innerText="Total: "+getTotal()+" FCFA";
}

function removeItem(index){
cart.splice(index,1);
renderCart();
}

function getTotal(){
return cart.reduce((sum,item)=>sum+item.price,0);
}

function pay(method){
let name=document.getElementById("clientName").value;
let phone=document.getElementById("clientPhone").value;
if(cart.length===0||!name||!phone){
alert("Veuillez remplir toutes les informations.");
return;
}

let order={
name:name,
phone:phone,
products:cart.map(p=>p.name).join(", "),
total:getTotal(),
payment:method
};

orders.push(order);
localStorage.setItem("orders",JSON.stringify(orders));

alert("Paiement simulé via "+method+" réussi !");
cart=[];
renderCart();
renderOrders();
}

function renderOrders(){
let table=document.getElementById("ordersTable");
table.innerHTML="";
orders.forEach(o=>{
table.innerHTML+=`
<tr>
<td>${o.name}</td>
<td>${o.phone}</td>
<td>${o.products}</td>
<td>${o.total} FCFA</td>
<td>${o.payment}</td>
</tr>`;
});
}
renderOrders();
</script>

</body>
</html>
